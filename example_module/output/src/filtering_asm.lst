1     						/**
2     						 *Petrovski Aleksandar RA211-2019
3     						 *zadatak 57
4     						 *model 4 / final
5     						 *IIR filtar drugog reda
6     						 */
7     						.include "example_module_mcv.h"
7      >> open include file: C:/Users/Student/Documents/aadsp_211/example_module/gen/inc/example_module_mcv.h
1+    						/*
2+    						 * This file is automatically generated by CLIDE
3+    						 *
4+    						 * MCV (Module Control Vector)
5+    						 */
6+    						.include "dsplib/meter_asm.h" 
6+     >> open include file: C:/CirrusDSP/include/dsplib/meter_asm.h
1+    							.if !defined(_meter_h_)
2+    	 0000				_meter_h_
3+    						
4+    						METER_T .struct
5+    						RMS .dw 0			#fract(1.31)
6+    						RMS_HOLD .dw 0		#fract(1.31)
7+    						PEAK .dw 0			#fract(1.31)
8+    						PEAK_HOLD .dw 0		#fract(1.31)
9+    							.endstruct
10+   						
11+   						(null)11+    >> end of include file: C:/CirrusDSP/include/dsplib/meter_asm.h
11+    >> continuing with file: C:/Users/Student/Documents/aadsp_211/example_module/gen/inc/example_module_mcv.h
7+    						.include "dsplib/response_asm.h"
7+     >> open include file: C:/CirrusDSP/include/dsplib/response_asm.h
1+    							.if !defined(_response_h_)
2+    	 0000				_response_h_
3+    						
4+    						BIQUAD_T .struct
5+    						COEF_A1 .dw 0			#fract(2.30)
6+    						COEF_A2 .dw 0			#fract(2.30)
7+    						COEF_B0 .dw 1			#fract(3.29)
8+    						COEF_B1 .dw 0			#fract(3.29)
9+    						COEF_B2 .dw 0			#fract(3.29)
10+   							.endstruct
11+   						
12+   						RESPONSE_T .struct
13+   						PRE .dw 0			#fract(7.25)
14+   						POST .dw 0			#fract(7.25)
15+   							.rept %i = 0,2
16+   						BIQUAD_%i BIQUAD_T		#struct
17+    >> start of macro: .rept
1+    						BIQUAD_0 BIQUAD_T		#struct
2+    						BIQUAD_1 BIQUAD_T		#struct
3+    						BIQUAD_2 BIQUAD_T		#struct
4+    						
17+   							.endm
18+   							.endstruct
19+   							
20+   							.endif21+   						(null)21+    >> end of include file: C:/CirrusDSP/include/dsplib/response_asm.h
21+    >> continuing with file: C:/Users/Student/Documents/aadsp_211/example_module/gen/inc/example_module_mcv.h
8+    						
9+    	 0001				isDefined	 .equ 	 1
10+   						
11+   						MCV_T	.struct
12+   						enable .dw 0	 # bool	non-zero to enable this function
13+   						gain_left .dw 0	 #fract(1.31)
14+   						gain_right .dw 0	 #fract(1.31)
15+   							.endstruct
16+   						
17+   						
18+   	 0000				STRUCTURE_INITIALIZATION_STRNG .equ "0x1, 0x00000000, 0x00000000"
19+    >> end of include file: C:/Users/Student/Documents/aadsp_211/example_module/gen/inc/example_module_mcv.h
19+    >> continuing with file: C:/Users/Student/Documents/aadsp_211/example_module/src/filtering_asm.a
8     							
9     	 0000					.public _second_order_IIR
10    	 0000					.extern example_module_MCV (MCV_T)
11    							
12    							.code_ovly
12     >> start of macro: .code_ovly
1+    									seg_single , "CODE_OVLY", CODE
1+     >> start of macro: seg_single
1+    						  .if ( "" != "" ) & defined( ___SegStart_CODE_ )
2+    						    segment
3+    						  .else
4+    						    segment "CODE_OVLY"
5+    							.if "" != ""
6+    						___SegStart_CODE_
7+    							.endif
8+    						  .endif
9+    							#RememberSegmentType
10+    >> end of macro: seg_single
2+     >> end of macro: .code_ovly
13    						# a0 - input and ret
14    						# i0 - coefficients	X_MEM
15    						# i4 - x_history	Y_MEM
16    						# i5 - y_history	Y_MEM
17    						# trashes: x0, x1, y0, a0, i0, i4, i5
18    	 0000				_second_order_IIR:
19    	 0000	 48417FFF		x1 = a0;			
20    	 0001	 10484DC0		x0 = xmem[i0]; i0+=1;	a0 = 0								#pull coeff0 for next instr
21    	 0002	 08882088		x0 = xmem[i0]; i0+=1; 	a0 += x0 * x1; y0 = ymem[i4]; i4+=1	#1 prepare xhist
22    	 0003	 08902408		x0 = xmem[i0]; i0+=1;	a0 += y0 * x0; y0 = ymem[i4]; i4-=1	#2
23    	 0004	 08A82408		x0 = xmem[i0]; i0+=1;	a0 += y0 * x0; y0 = ymem[i5]; i5+=1	#3
24    	 0005	 08B02418		x0 = xmem[i0]; i0+=1;	a0 -= y0 * x0; y0 = ymem[i5]; i5-=1	#4
25    	 0006	 244D2418		y0 = ymem[i5]; i5+=1;	a0 -= y0 * x0;						#+optimized yhist				
26    	 0007	 64554E00		ymem[i5] = y0; i5-=1;	a0 = a0 << 1						#+optimized yhist + 1 = yhist
27    	 0008	 88D40005		ymem[i5] = a0;												#yhist = output
28    							
29    	 0009	 84940014		y0 = ymem[i4]; i4+=1										#xhist
30    	 000A	 84D40024		ymem[i4] = y0; i4-=1										#xhist + 1 = xhist
31    	 000B	 81D40004		ymem[i4] = x1												#xhist = input
32    							
33    	 000C	 81880000		ret
				 SYMBOL TABLE 

    Name                                                                                    Type                  Value 

STRUCTURE_INITIALIZATION_STRNG                                                  			  Unused String		   '0x1, 0x00000000, 0x00000000' 
_COMMON_INC_PATH_                                                               					 Define                 "C:/CirrusDSP/crystal32/common/inc/"
_DSP_                                                                           			  Unused Variable		        0 (0H)
_LOCAL_INC_PATH_                                                                					 Define                 "inc/"
_LOCAL_SRC_PATH_                                                                					 Define                 "src/"
_ROUTER_INC_PATH_                                                               					 Define                 "rom_inc/"
__CASM_VER__                                                                    			  Unused Variable		        0 (701H)
_meter_h_                                                                       			  Unused Relocatable        __INIT:0000H
_response_h_                                                                    			  Unused Relocatable        __INIT:0000H
_second_order_IIR                                                               			  Public Relocatable       filtering_asm_GEN_0000:0000H
example_module_MCV                                                              					 External   
isDefined                                                                       			  Unused Number				      1 (1H)

	       SEGMENTS:

Size			  Name										 Class
0000H	 __INIT                                  			 CODE                                    
000DH	 filtering_asm_GEN_0000                  			 CODE_OVLY                               
